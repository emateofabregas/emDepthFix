![emDepthFix_000](https://github.com/user-attachments/assets/b3bbc6fd-c4a8-4cba-a75e-ed79cec61e7d)

**emDepthFix** is a gizmo for fixing the ZDepth channel in conflicting parts before adding Depth of Field in your CG Layer. 

<img width="937" height="315" alt="DepthFix_Knobs" src="https://github.com/user-attachments/assets/f674c2e3-40b9-42e9-a22b-f4495fef4e66" />

This tool is designed in case you receive a render with hard edges in the CG render in the ZDepth channel. You can control the internal and external edges. 

<img width="1602" height="802" alt="DepthFix_Node" src="https://github.com/user-attachments/assets/fb8397e8-0792-4a9d-a201-0c49582d3be7" />

## **FAQS**
* **When using internal or external edges?**

  1. **External ones**: when your edges are generated between your alpha and your CG character.
  2. **Internal ones**: when your edges are internal to your render. Ideally, for elements that are in FG and the second one in the MG or the example below between the body and the arm. 

* **Where can I put this node in my Nuke node graph?**

  1. You can add before the Depth of Field nodes (Defocus or Bokeh).
  2. If your ZDepth comes from the UTILS render and has a different alpha than the BEUATY render, adding this gizmo before copying or reshuffling the 'depth.Z' channel is highly recommended. 

* **How can I preview the New Depth Channel generated by the tool?**
  
  You can do it by viewing 'channels' in your viewer or with the checkbox in the tool called 'View New Depth'

## **EXTRA NOTES**
* This tool modifies the depth.Z channel. Keep this in mind before using it!
